# LYFT CALL ANALYSIS FRAMEWORK
# Executive Summary: Sales Representative Call Performance Analysis

## OVERVIEW
This framework defines the requirements for analyzing sales representative call performance by comparing call transcript data with conversion performance metrics, segmented by FC Method and Experiment.

## DATA SOURCES
### Primary Files:
- CALL_DATA: Output from run_lyft_call_analysis_query.py (call transcripts with conversion data)
- PERFORMANCE_DATA: Lyft - Commission 5:1.csv (rep performance metrics by FC Method/Experiment)

### Data Join Strategy:
- Primary key: owner_name (ISR in CSV matches owner_name in call data)
- Secondary segmentation: FC Method, Experiment
- Challenge: Call data has individual call records, performance data is aggregated
- Solution: Aggregate call data by rep/experiment/method before comparison

## ANALYSIS SCOPE
### Performance Comparison:
- Compare high-performing vs low-performing reps within same FC Method and Experiment
- Focus on call-specific behaviors and patterns
- Identify differentiating factors in call execution

### Segmentation Logic:
- Group by: FC Method ("call" only for this analysis)
- Sub-group by: Experiment type and Language preference
- Language categories: English (Unknown category), Spanish, Other languages
- Performance ranking: Based on FRR (First Ride Rate) from Commission 5:1 data

## SCORING METHODOLOGY

### Performance Classification (per FC Method + Experiment):
- HIGH_PERFORMERS: Top 33% by FRR within segment
- MEDIUM_PERFORMERS: Middle 33% by FRR within segment  
- LOW_PERFORMERS: Bottom 33% by FRR within segment
- MINIMUM_CALLS_THRESHOLD: 20 calls per rep for inclusion

### Call Quality Metrics (100 points total):
- Call Summary Quality: 30 points maximum
- Conversion Rate Achievement: 70 points maximum
- TOTAL POSSIBLE SCORE: 100 points
- CRITICAL: Ensure scoring calculations never exceed 100 points total
- NOTE: Call duration is tracked for trend analysis but not included in primary scoring

### Call Summary Evaluation (30 points maximum):
- Evaluate call_summary field content for:
  - Clarity and professionalism (0-15 points)
  - Action items and next steps (0-9 points)
  - Problem resolution approach (0-6 points)
- CRITICAL: Parse actual call summary text content to identify:
  - Professional language patterns (thank you, please, appreciate, understand)
  - Action-oriented language (scheduled, follow-up, callback, confirmed, agreed)
  - Problem-solving indicators (resolved, explained, clarified, solution)
  - Rapport-building language (relationship, trust, comfort, support)
- CALL CONTENT TREND ANALYSIS: Identify what high vs low performers discuss:
  - Topic patterns in successful vs unsuccessful calls
  - Conversation themes that correlate with conversion
  - Common discussion points in high performer vs low performer calls
  - Language patterns that differentiate performance tiers
  - Problem types and resolution approaches by performance level

## ADVANCED CONTENT ANALYSIS METHODOLOGY

### Content Categorization Framework (Multi-Dimensional):
- PROBLEM CATEGORIES (Process-Focused):
  - Application Issues (documents, eligibility, requirements)
  - Vehicle Problems (inspection, insurance, registration)
  - Background/Onboarding Issues (background check, training)
  - Platform/Technical Issues (app, account setup)
  - General Questions/Information Requests
- COMPLEXITY LEVELS:
  - Simple Questions (quick answers, standard info)
  - Process Issues (requires follow-up, documentation)
  - Complex Problems (multiple steps, escalation needed)
  - Technical/System Issues (app, platform problems)
  - Personal/Circumstantial Issues (individual situations)
- OUTCOME CLASSIFICATIONS:
  - Immediately Resolvable (answered on call)
  - Requires Follow-up Action (documents, next steps)
  - Needs Escalation (supervisor, specialist)
  - Information/Education Needed (explaining process)
  - External Dependencies (third-party, waiting)

### Solution Approach Analysis (Multi-Dimensional):
- COMMUNICATION STYLE:
  - Explanatory (detailed explanations, educational)
  - Directive (clear instructions, step-by-step)
  - Supportive (empathetic, reassuring language)
  - Transactional (brief, to-the-point)
  - Collaborative (asking questions, involving prospect)
- PROBLEM-SOLVING PROCESS:
  - Immediate Resolution (solved on call)
  - Scheduled Follow-up (specific next steps planned)
  - Escalation (transferred to specialist/supervisor)
  - Information Gathering (collecting more details)
  - Referral (directed to resources/documentation)
- OUTCOME TRACKING:
  - Complete Resolution (fully addressed)
  - Partial Resolution (some progress made)
  - Deferred Resolution (postponed to later)
  - Failed Resolution (unable to help)
  - Unclear Outcome (ambiguous result)

### Content Analysis Quality Thresholds:
- Rep-Level Analysis: Minimum 20 calls with meaningful summaries per rep
- Performance Tier Analysis: Minimum 50% of calls in each tier must have analyzable summaries
- Content Analysis Fallback: Use simplified keyword matching if insufficient content
- Pattern Significance: Report differences when high vs low performers show >20% gap
- Summary Completeness: Flag summaries <30 characters as insufficient for analysis

### Enhanced Content Quality Scoring (5 points):
- Multi-dimensional problem identification: 2 points
- Solution approach sophistication: 2 points
- Outcome clarity and resolution: 1 point
- Integrated into 30-point Call Summary Quality score as bonus points
- EXCLUSION RULE: If call_summary contains "Due to the brevity of the meeting transcript, there is no call summary..." or similar brevity messages:
  - Do NOT evaluate this summary for quality scoring
  - Mark as "Short Call - No Summary Available"
  - Flag for duration analysis only (categorize as brief engagement)
  - Exclude from professional language pattern analysis
- Calculate average across all calls per rep based on actual text analysis (excluding brevity messages)

### Call Duration Analysis (Secondary Metric - Trend Analysis Only):
- Call duration is measured in seconds (convert to minutes for reporting)
- Analyze duration patterns for trends (not scoring)
- Correlation analysis: duration vs conversion by experiment and performance tier
- CRITICAL: Used for insight generation, not primary performance scoring
- Track duration differences between high/low performers for coaching insights

### Conversion Achievement (70 points maximum):
- Individual call conversion success rate
- Alignment with overall FRR performance
- Consistency across call volume

## CALL EVALUATION PARAMETERS
### Company-Specific Variables:
- COMPANY_NAME: "Lyft"
- WORKER_TYPE: "Driver" 
- WORK_ACTIVITY: "Driving/Rideshare"
- SERVICE_FOCUS: "Transportation services"

### Call Quality Criteria:
- PROFESSIONAL_COMMUNICATION: Clear, respectful, solution-oriented
- PROBLEM_SOLVING: Proactive issue identification and resolution
- EFFICIENCY: Appropriate call length for complexity
- FOLLOW_UP: Clear next steps and expectations

### Call Summary Standards:
- COMPLETENESS: All key points captured
- ACCURACY: Factual and objective tone
- ACTIONABILITY: Clear next steps identified
- PROFESSIONALISM: Business-appropriate language

## ANALYSIS DEPTH REQUIREMENTS

### Statistical Analysis:
- CONFIDENCE_LEVEL: 90%
- MINIMUM_SAMPLE_SIZE: 20 calls per rep
- OUTLIER_HANDLING: Flag but include in analysis with notation

### Performance Metrics (per rep):
- Total calls handled
- Average call duration (converted from seconds)
- Call conversion rate (individual calls)
- Call summary quality score
- Call timing patterns (if timestamp data available) - analyze optimal calling times
- Call direction distribution (inbound vs outbound)
- First call effectiveness (call_count_asc = 1 conversion rate)
- Follow-up call patterns (call_count_asc > 1 analysis)
- Average calls per opportunity
- Multi-call opportunity conversion rates
- Communication style analysis (professional tone, questioning techniques, conversation themes)
- CALL CONTENT TREND ANALYSIS (PRIMARY REQUIREMENT):
  - Topic frequency analysis by performance tier
  - Common phrases and language patterns in high vs low performer calls
  - Problem categories and resolution strategies by performance level
  - Conversation themes that correlate with conversion success
  - Content quality indicators beyond professional language
- Lead context analysis (characteristics of converted vs non-converted opportunities)
- Call spacing analysis (time between calls and impact on conversion)

### Comparative Analysis:
- High vs Low performer call patterns within each segment:
  - FC Method: call
  - Experiment groups from Commission 5:1 data
- CRITICAL: Never compare performance across different experiments - this will completely devalue any insights found
- Only compare reps within the same experiment type
- Identify behavioral differences within experiment boundaries
- Pattern recognition across successful vs unsuccessful calls within same experiment
- First call vs follow-up call effectiveness analysis:
  - Conversion rates by call sequence number (within experiment)
  - Direction patterns (inbound vs outbound) by call sequence (within experiment)
  - Duration optimization differences between first and subsequent calls (within experiment)
  - Professional tone and summary quality progression through call sequences (within experiment)

## OUTPUT REQUIREMENTS

### Executive Summary Structure (MAXIMUM 1 PAGE):
1. What Top Performers Are Doing Right:
   1a. First call execution excellence (timing, approach, messaging) - BRIEF
   1b. Call quality and communication style (tone, professionalism, engagement) - BRIEF
2. What Poor Performers Are Doing Wrong (PRIMARY FOCUS):
   2a. Call execution failures with specific examples and opportunity IDs
   2b. Communication weaknesses with actual call summary content analysis
   2c. Call content trends: What low performers discuss vs high performers
   2d. Missed opportunities and conversion barriers identified through data
3. Individual Rep Improvement Recommendations (DETAILED):
   3a. Specific coaching suggestions with poor call example opportunity IDs
   3b. Actionable improvement areas based on actual bad call performance
   3c. Call summary content issues with before/after improvement targets
4. Strategic Cohorting for Improvement:
   4a. Low performer cohorts grouped by specific failure patterns
   4b. Training focus areas based on common execution problems
   4c. Improvement roadmaps with measurable targets
5. Call Execution Problems by Experiment:
   5a. Experiment-specific failure patterns and improvement opportunities
   5b. Systematic issues requiring process changes vs individual coaching

CRITICAL EXECUTIVE SUMMARY REQUIREMENTS:
- Maximum 1 page when printed (approximately 500-600 words total)
- Each section should be 2-3 bullet points maximum
- Focus on highest-impact insights only
- Use concise, actionable language
- Avoid repetitive generic recommendations

### Segment Analysis (for each FC Method + Experiment combination):
- Performance Distribution: High/Medium/Low classification
- Call Volume Analysis: Calls per rep in each performance tier
- Quality Metrics Comparison: Average scores by performance tier
- Pattern Identification: What high performers do differently

### Individual Rep Analysis (EMPHASIZE LOW PERFORMERS):
- Overall Call Quality Score: X/100
- Performance Tier: High/Medium/Low within segment
- Key Metrics:
  - Total calls: X
  - Average call duration: X minutes (converted from seconds)
  - Call conversion rate: X%
  - Summary quality score: X/100
- Specific Improvement Recommendations with Examples:
  - BAD CALL EXAMPLES: Opportunity IDs with poor call summary content
  - CALL CONTENT ANALYSIS: What was missing from unsuccessful calls
  - COMMUNICATION FAILURES: Specific language/tone issues identified
  - PROCESS EXECUTION GAPS: Where the call process broke down
  - COACHING FOCUS: Precise areas needing improvement with measurable targets
  - BEFORE/AFTER TARGETS: Specific improvement metrics to track

### Best Practice Identification:
- 3 Top Practices from High Performers:
  - Specific call behaviors/approaches
  - Communication techniques
  - Problem-solving methods
- 3 Common Issues in Low Performers:
  - Call execution gaps
  - Communication weaknesses
  - Process inefficiencies

### Performance Insights:
- SUMMARY_QUALITY_IMPACT: Quality documentation vs performance (PRIMARY)
- CONVERSION_PATTERNS: Individual call success patterns by performance tier (PRIMARY)
- CALL_CONTENT_TRENDS: What high vs low performers discuss in calls (PRIMARY)
  - Topic analysis: Most common subjects discussed by performance tier
  - Problem patterns: Types of issues handled by high vs low performers
  - Solution approaches: How different performance tiers address concerns
  - Language usage: Vocabulary and phrasing differences between tiers
  - Conversation flow: Structure and progression patterns in successful calls
- DURATION_CORRELATION: Call length vs conversion success (SECONDARY)
- TIMING_PATTERNS: When high performers make calls (time of day, follow-up timing)
- VOLUME_EFFICIENCY: Calls per conversion by performance tier
- FIRST_CALL_IMPACT: Conversion effectiveness of initial contact (call_count_asc = 1)
- FOLLOW_UP_PATTERNS: Multi-call sequences and diminishing returns analysis
- CALL_DIRECTION_SEQUENCE: How inbound vs outbound patterns change through call sequences
- CONVERSATION_PROGRESSION: Professional tone and quality evolution across multiple touches
- LEAD_CONTEXT_ANALYSIS: Characteristics of leads that convert vs don't convert
- CHANNEL_OPTIMIZATION: Analysis of leads better suited for SMS vs calls
- RESOURCE_ALLOCATION: Recommendations for optimizing effort by lead quality and type

## QUALITY CONTROLS

### Data Validation:
- Validate owner_name matching between datasets
- Check for reasonable call durations (convert from seconds to minutes: 120-2700 seconds)
- Validate call_summary content (non-null, meaningful length)
- Cross-reference conversion flags with performance data
- Validate language preference data and categorize Unknown as English

### Analysis Validation:
- Ensure proper segmentation by FC Method/Experiment
- Validate performance tier calculations
- Check statistical significance of differences
- Flag edge cases for manual review

### Output Validation:
- Verify best practice recommendations are actionable
- Ensure findings are statistically supported
- Validate rep anonymization if required
- Check recommendation feasibility

## CUSTOMIZATION SECTIONS

### Business Context:
- ANALYSIS_PURPOSE: Identify call execution failures and improvement opportunities for low performers
- STAKEHOLDER_AUDIENCE: Sales managers, training teams, operations leadership
- ACTION_ORIENTATION: Develop targeted training materials and coaching guidelines focused on fixing performance gaps
- EMPHASIS: Focus heavily on low performer analysis with specific examples of poor call execution

### Performance Standards:
- EXCELLENT_CALL_QUALITY: 85+ overall score
- GOOD_CALL_QUALITY: 70-84 overall score
- NEEDS_IMPROVEMENT: 50-69 overall score
- URGENT_ATTENTION: <50 overall score

### Reporting Preferences:
- INCLUDE_CALL_SAMPLES: True (anonymized)
- INCLUDE_STATISTICAL_DETAILS: True
- ANONYMIZE_RESULTS: [EDIT: Set based on privacy requirements]
- SEGMENT_GRANULARITY: FC Method + Experiment

## TECHNICAL SPECIFICATIONS

### Processing Requirements:
- Join call data with performance data on owner_name
- Aggregate call metrics by rep/experiment/FC method
- Calculate performance tiers within segments
- Generate comparative analysis

### Analysis Flow:
1. Load and merge datasets
2. Filter for call FC Method only
3. Calculate performance tiers by experiment
4. Analyze call patterns by performance tier
5. Generate insights and recommendations

### Output Formats:
- Primary: Formatted text file with executive summary and full analysis
- Secondary: Markdown executive summary
- Tertiary: JSON data for further analysis
- Optional: CSV with rep scores and tiers

### Formatted Text Output Structure:
1. Executive Summary (1 page):
   - Key performance insights
   - Cohort suggestions with specific member recommendations
   - Best practices by performance tier
   - Immediate action items (next 7 days)
   - Expected ROI calculations
   - Success metrics and targets

2. Full Analysis (detailed):
   - Complete performance distribution tables
   - Experiment-language combination analysis
   - Individual rep performance breakdowns
   - Call quality pattern analysis
   - First call vs follow-up detailed analysis with call direction patterns
   - Call sequence effectiveness by rep and experiment
   - Multi-call opportunity conversion analysis
   - Statistical significance testing
   - Methodology and data sources

## IMPLEMENTATION NOTES

### Phase 1: Data Integration
1. Load call analysis query results
2. Load Commission 5:1 performance data
3. Join on owner_name with experiment/FC method context
4. Validate data quality and completeness

### Phase 2: Performance Segmentation
1. Calculate FRR-based performance tiers
2. Ensure minimum call volume thresholds
3. Create performance segments by experiment
4. Validate tier distributions

### Phase 3: Call Pattern Analysis
1. Analyze call quality metrics by performance tier
2. Identify differentiating patterns
3. Calculate statistical significance
4. Generate comparative insights
5. Analyze first call effectiveness (call_count_asc = 1) vs follow-up patterns
6. Examine call direction changes through call sequences
7. Assess conversation quality progression across multiple touches

### Phase 4: Best Practice Extraction
1. Identify high-performer call characteristics
2. Document low-performer common issues
3. Generate actionable recommendations
4. Validate recommendations with data

### Phase 5: Report Generation
1. Generate formatted text output with executive summary first
2. Compile detailed analysis sections
3. Create segment-specific analyses
4. Generate performance charts/visualizations
5. Finalize recommendations and action items
6. Save formatted text file ready for Word document conversion
7. Share output to reports folder, with date and version, check folder to see what is the latest version and add .1 so the first version would be 1.0

### Text Formatting Guidelines:
- Use consistent section separators (═══════════════════════════════════════)
- Apply clear hierarchy: SECTION HEADERS (CAPS), Subsection Headers (Title Case), bullet points
- Include proper spacing between sections
- Format tables using consistent alignment
- Ensure professional presentation ready for executive sharing
- Executive summary should be concise (1 page when printed)
- Full analysis should provide comprehensive detail for implementation teams

---

## EDIT CHECKLIST
Before running analysis, customize:
- [ ] Set minimum call volume threshold
- [ ] Define performance tier percentiles
- [ ] Configure anonymization requirements
- [ ] Set call quality scoring weights
- [ ] Review experiment groupings
- [ ] Validate FC Method filtering
- [ ] Configure output detail level
- [ ] Set executive summary length target (1 page recommended)
- [ ] Define cohort formation criteria and member identification
- [ ] Specify immediate action timeline (7 days recommended)
- [ ] Configure ROI calculation methodology
- [ ] Set success metric targets and timeframes
- [ ] Define first call vs follow-up analysis parameters
- [ ] Set minimum thresholds for multi-call opportunity analysis
- [ ] Configure call sequence effectiveness measurement criteria